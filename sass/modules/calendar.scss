:root {
  --border-radius: 12px;
}
@media screen and (max-width: 1099px) {
  :root {
    --border-radius: 8px;
  }
}

.calendar {
  &__head {
    display: flex;
    flex-wrap: nowrap;
    justify-content: flex-start;
    padding: 25px 0;
    @media (max-height: 795px) and (min-width: 992px) {
      padding: 20px 0 15px;
    }
  }

  &__body {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
    grid-gap: 8px;
    @media (max-width: 1379px) {
        grid-gap: 6px;
    }
    &[data-startday="1"] {
      & > .calendar__day:first-child { grid-column-start: 1; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+7) { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+8) { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); &:before { display: none; } }
    }
    &[data-startday="2"] {
      & > .calendar__day:first-child { grid-column-start: 2; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+6) { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+7) { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); &:before { display: none; } }
    }
    &[data-startday="3"] {
      & > .calendar__day:first-child { grid-column-start: 3; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+5) { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+6) { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); &:before { display: none; } }
    }
    &[data-startday="4"] {
      & > .calendar__day:first-child { grid-column-start: 4; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+4) { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+5) { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); &:before { display: none; } }
    }
    &[data-startday="5"] {
      & > .calendar__day:first-child { grid-column-start: 5; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+3) { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+4) { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); &:before { display: none; } }
    }
    &[data-startday="6"] {
      & > .calendar__day:first-child { grid-column-start: 6; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+2) { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+3) { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); &:before { display: none; } }
    }
    &[data-startday="7"] {
      & > .calendar__day:first-child { grid-column-start: 7; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+1) { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);; }
      & > .calendar__day[data-selected="selected"]:nth-child(7n+2) { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); &:before { display: none; } }
    }
  }

  &__weekday {
    flex-basis: calc(100% / 7);
    text-align: center;
    font-size: 12px;
    line-height: 15px;
  }

  &__day {
    flex-basis: calc(100% / 7);
    min-width: 48px;
    height: 56px;
    border-radius: var(--border-radius);
    color: $c-text;
    font-weight: 500;
    font-size: 18px;
    line-height: 22px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding: 8px;
    transition: background-color .2s;
    @media (max-width: 1379px) {
      height: 0;
      padding: calc(calc(100vw - 350px) * 0.008) 0 calc(100% - calc(calc(100vw - 350px) * 0.008));
      // padding: 0.58vw 0 calc(100% - 0.58vw);
      // padding: 0.9vw 0 calc(100% - 0.9vw);
      min-width: 0;
      font-size: 1.317vw;
      line-height: 1.2;
    }
    & > span {
      font-size: 12px;
      line-height: 15px;
      font-weight: 700;
      color: $c-text-light;
      transition: .2s;
      @media (max-width: 1379px) {
        font-size: 0.9vw;
        line-height: 1.1;
        font-weight: 600;
      }
    }
    &[data-status="current"] {
      background: #fff;
    }
    &[data-activity="5"] {
      background: $c-blue;
      color: #fff;
      & > span { color: #fff; }
    }
    &[data-activity="4"] {
      background: $c-blue-80;
      color: #fff;
      & > span { color: #fff; }
    }
    &[data-activity="3"] {
      background: $c-blue-60;
      color: #fff;
      & > span { color: #fff; }
    }
    &[data-activity="2"] {
      background: $c-blue-40;
      & > span { color: #6E84A5; }
    }
    &[data-activity="1"] {
      background: $c-blue-20;
      & > span { color: #6E84A5; }
    }
    &[data-selected="selected"] {
      background: $c-green;
      color: #fff;
      border-bottom-right-radius: 0;
      border-top-right-radius: 0;
      position: relative;
      & > span { color: #fff; }

      & + & {
        background: #65d19d;
        position: relative;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        &:before {
          content: '';
          position: absolute;
          right: calc(100% - 1px);
          top: 0;
          background: #65d19d;
          height: 100%;
          width: 10px;
          z-index: 2;
        }
      }

      &[data-position="single"] {
        border-radius: var(--border-radius);
        &:after {
          display: none;
        }
      }
      &[data-position="first"] {
        &:after {
          content: "\e903";
          @include icomoon();
          color: $c-green;
          position: absolute;
          right: calc(100% - 2px);
          top: 50%;
          transform: translateY(-50%);
        }
      }
      &[data-position="last"] {
        border-bottom-right-radius: var(--border-radius);
        border-top-right-radius: var(--border-radius);
        background: $c-green!important;
        &:after {
          content: "\e902";
          @include icomoon();
          color: $c-green;
          position: absolute;
          left: calc(100% - 2px);
          top: 50%;
          transform: translateY(-50%);
        }
      }
    }
    &:hover {
      background: $c-green;
      color: #fff;
      & > span { color: #fff; }
    }
  }
}